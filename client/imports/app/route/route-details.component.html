<md-card class="demo-card demo-basic">
  <md-toolbar class="md-primary" color="primary">
    Route Details
  </md-toolbar>
  <md-card-content>
  
  <form *ngIf="route" (submit)="saveRoute()">
    <fieldset class="form-group">
      <md-input [disabled]="!isOwner" type="text" [(ngModel)]="route.name" name="name" #name placeholder="Route name" style="width: 35%" minlength="2" maxlength="40" required>
        <md-hint align="end">{{name.characterCount}} / 40</md-hint>
      </md-input>
      
      <md-input [disabled]="!isOwner" type="number" [(ngModel)]="route.price" name="price" placeholder="Route price" #price style="width: 10%" required></md-input>
           
      <md-textarea [disabled]="!isOwner"  type="text" [(ngModel)]="route.description" name="description" #description placeholder="Description" style="width: 54%"  minlength="2" maxlength="250" required>
        <md-hint align="end">{{description.characterCount}} / 250</md-hint>
      </md-textarea>
            
      <md-input [disabled]="!isOwner" type="text" [(ngModel)]="route.startRoute.name" name="start_route" #start_route placeholder="Start route" style="width: 49%" required minlength="2" maxlength="50">
        <md-hint align="end">{{start_route.characterCount}} / 50</md-hint>
      </md-input>

      <md-input [disabled]="!isOwner" type="text" [(ngModel)]="route.finalRoute.name" name="final_route" #final_route placeholder="Final route" style="width: 49%" required minlength="2" maxlength="50">
        <md-hint align="end">{{final_route.characterCount}} / 50</md-hint>
      </md-input>

     <div style="padding: 20px"> <h3>Routes</h3>
        <sebm-google-map
          [latitude]="latS || centerLat"
          [longitude]="lngS || centerLat"
          [zoom]="6">

          <sebm-google-map-marker
            *ngIf="latS && lngS"
            [latitude]="latS"
            [longitude]="lngS"
            [label]="'S'"
            [title]="'Start Route'"
            [markerDraggable]="true"
            (dragEnd)="markerDragEndStart($event)">
          </sebm-google-map-marker>

          <sebm-google-map-marker
            *ngIf="latF && lngF"
            [latitude]="latF"
            [longitude]="lngF"
            [label]="'F'"
            [title]="'Final Route'"
            [markerDraggable]="true"
            (dragEnd)="markerDragEndFinal($event)">
          </sebm-google-map-marker>

        </sebm-google-map>
      </div>
      
      
      <button md-raised-button color="primary" type="submit"><i class="material-icons">create</i>Save</button>
      <button md-raised-button type="button" [routerLink]="['/user/routes']" [queryParams]="query">Back</button>
      
    </fieldset>
  </form>
 </md-card-content>
</md-card>